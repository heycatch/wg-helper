# WG-HELPER

## Мотивация
Надоело руками добавлять пользователей в конфигурацию wireguard.

Решил автоматизировать эти процессы, чтобы получать только готовый файл для пользователя. Популярные решения через докер меня не интересуют, да и веб-гуи мне не нужны. Поэтому было принято волевое решение пердолиться над собственной реализацией, желательно без зависимостей на стороне сервера, запустил бинарник и сразу используешь.

**На данном этапе программа чувствительна к регистру и данным, она будет работать только с нулевой конфигурацией wireguard. Это означает, что не должно быть на впс никаких конфигов, только свежая установка без запуска. Утилита сама создаст все папки с которыми ей нужно взаимодействовать.**

## Сборка и использование
```bash
# Собираем из исходников или качаем бинарь со страницы с релизом.
dub build
# После переносим в удобное место на сервере, для меня это /usr/bin/.

# Создание конфига для сервера. Name нужно заменить на свое имя.
wghelper server name
wghelper client name

# Утилита подскажет имя и путь где сохранен конфиг для пользваотеля.
cd /tmp && cat amsterdam.conf
# Название пока что фиксированное, можно переименовать.
# Переносим к себе конфиг и импортируем файл.
```

## Структура прогрмаммы
- **/etc/wireguard/** стандартная попка хранения конфига сервера wireguard.
- **/tmp/** в эту папку будет сохраняться конфиг для пользователя.
- **/root/.config/wg-keys/** если вы работаете от рута - это папка где хранятся все сгенерируемые ключи.
- **/home/$USER/.config/wg-keys/** если вы работаете от пользователя - это папка где хранятся все сгенерируемые ключи.
